{"version":3,"sources":["index.tsx"],"names":["App","useState","text","setText","todos","setTodos","filter","setFilter","translatedFilter","arg","filteredTodos","todo","removed","checked","useEffect","document","title","className","href","onClick","window","location","reload","id","labelId","label","value","onChange","event","target","onSubmit","e","preventDefault","newTodo","Date","getTime","handleOnSubmit","variant","disabled","type","size","style","verticalAlign","length","newTodos","handleOnEmpty","map","handleOnCheck","handleOnEdit","handleOnDelete","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a15171f1.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select, { SelectChangeEvent } from '@mui/material/Select';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Checkbox from '@mui/material/Checkbox';\nimport './style.css';\n\ninterface Todo {\n    value: string;\n    id: number;\n    checked: boolean;\n    removed: boolean;\n}\n\ntype Filter = 'all' | 'checked' | 'unchecked' | 'removed';\n\nconst App: React.VFC = () => {\n    const [text, setText] = useState('')\n    const [todos, setTodos] = useState<Todo[]>([])\n    const [filter, setFilter] = useState<Filter>('all')\n    const translatedFilter = (arg: Filter) => {\n        switch (arg) {\n            case 'all':\n                return '全てのタスク';\n            case 'checked':\n                return '完了済みのタスク';\n            case 'unchecked':\n                return '現在のタスク';\n            case 'removed':\n                return 'ごみ箱';\n            default:\n                return 'TODO';\n        }\n    }\n    const filteredTodos = todos.filter(todo => {\n        switch (filter) {\n            case 'all':\n                return !todo.removed;\n            case 'checked':\n                return todo.checked && !todo.removed;\n            case 'unchecked':\n                return !todo.checked && !todo.removed;\n            case 'removed':\n                return todo.removed;\n            default:\n                return todo;\n        }\n    })\n    const handleChange = (event: SelectChangeEvent) => {\n        setFilter(event.target.value as Filter);\n    }\n    const handleOnSubmit = (e: React.FormEvent<HTMLFormElement | HTMLInputElement>) => {\n        e.preventDefault()\n        if (!text) return\n        const newTodo: Todo = {\n            value: text,\n            id: new Date().getTime(),\n            checked: false,\n            removed: false,\n        }\n        // スプレッド構文を用いて todos ステートのコピーへ newTodo を追加する\n        // 以下と同義\n        // const oldTodos = todos.slice()\n        // setTodos(oldTodos.splice(0, 0, newTodo))\n        setTodos([newTodo, ...todos])\n        setText('')\n    }\n    const handleOnEdit = (id: number, value: string) => {\n        const newTodos = todos.map(todo => {\n            if (todo.id === id) {\n                todo.value = value\n            }\n            return todo\n        })\n        setTodos(newTodos)\n    }\n    const handleOnCheck = (id: number, checked: boolean) => {\n        const newTodos = todos.map(todo => {\n            if (todo.id === id) {\n                todo.checked = !checked\n            }\n            return todo\n        })\n        setTodos(newTodos)\n    }\n    const handleOnDelete = (id: number, removed: boolean) => {\n        const newTodos = todos.map(todo => {\n            if (todo.id === id) {\n                todo.removed = !removed;\n            }\n            return todo\n        })\n        setTodos(newTodos)\n    }\n    const handleOnEmpty = () => {\n        const newTodos = todos.filter(todo => {\n            return !todo.removed\n        })\n        setTodos(newTodos)\n    }\n    useEffect(() => {\n        document.title = `TODO: ${translatedFilter(filter)}`\n    }, [filter])\n\n    return (\n        <div className='wrapper'>\n            <div className='header'>\n                <h2>\n                    <a href=\"/#\" onClick={() => window.location.reload()}>\n                        Todo\n                    </a>\n                </h2>\n            </div>\n            <div className='filter_input'>\n                <FormControl>\n                    <InputLabel id=\"demo-simple-select-label\">Filter</InputLabel>\n                    <Select\n                        labelId=\"demo-simple-select-label\"\n                        id=\"demo-simple-select\"\n                        label=\"Todo\"\n                        value={filter}\n                        onChange={handleChange}\n                    >\n                        <MenuItem value=\"all\">{translatedFilter('all')}</MenuItem>\n                        <MenuItem value=\"checked\">{translatedFilter('checked')}</MenuItem>\n                        <MenuItem value=\"unchecked\">{translatedFilter('unchecked')}</MenuItem>\n                        <MenuItem value=\"removed\">{translatedFilter('removed')}</MenuItem>\n                    </Select>\n                </FormControl>\n                <div className='task_form'>\n                    <form onSubmit={(e) => handleOnSubmit(e)}>\n                        <TextField\n                            variant=\"standard\"\n                            label=\"タスクを追加する\"\n                            disabled={filter === 'checked'}\n                            value={text}\n                            onChange={(e) => setText(e.target.value)}\n                        />\n                        <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            size=\"small\"\n                            disabled={filter === 'checked'}\n                            style={{ verticalAlign: 'bottom' }}\n                        >\n                            追加\n                        </Button>\n                    </form>\n                </div>\n            </div>\n            {filter === 'removed' && (\n                <div className='garbage'>\n                    <Button\n                        variant=\"contained\"\n                        disabled={todos.filter(todo => todo.removed).length === 0}\n                        size=\"small\"\n                        onClick={() => handleOnEmpty()}\n                    >\n                        ゴミ箱を空にする\n                    </Button>\n                </div>\n            )}\n            <ul className=\"todos_list\">\n                <h4>{filter === 'removed' ? '削除済みタスク一覧' : 'タスク一覧'}：</h4>\n                {filteredTodos.map(todo => {\n                    return (\n                        <li key={todo.id}>\n                            <Checkbox\n                                disabled={todo.removed}\n                                checked={todo.checked}\n                                onChange={() => handleOnCheck(todo.id, todo.checked)} />\n                            <TextField\n                                variant=\"outlined\"\n                                disabled={todo.checked || todo.removed}\n                                value={todo.value}\n                                onChange={(e) => handleOnEdit(todo.id, e.target.value)}\n                                size=\"small\"\n                            />\n                            <Button\n                                type=\"submit\"\n                                variant=\"contained\"\n                                size=\"small\"\n                                onClick={() => handleOnDelete(todo.id, todo.removed)}\n                            >\n                                {todo.removed ? '復元' : '削除'}\n                            </Button>\n                        </li>\n                    )\n                })}\n            </ul>\n        </div >\n    );\n};\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}